(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function I(){}function Ot(t,e){for(const r in e)t[r]=e[r];return t}function Ut(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Rt(t){return t()}function pt(){return Object.create(null)}function Ie(t){t.forEach(Rt)}function At(t){return typeof t=="function"}function Ce(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function jt(t){return Object.keys(t).length===0}function Se(t,e){t.appendChild(e)}function V(t,e,r){t.insertBefore(e,r||null)}function G(t){t.parentNode&&t.parentNode.removeChild(t)}function St(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function re(t){return document.createElement(t)}function Ze(t){return document.createTextNode(t)}function Je(){return Ze(" ")}function Ht(){return Ze("")}function ze(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function He(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function qt(t){return Array.from(t.childNodes)}function Tt(t,e){e=""+e,t.data!==e&&(t.data=e)}function _t(t,e){t.value=e??""}function gt(t,e,r){t.classList.toggle(e,!!r)}let Ne;function de(t){Ne=t}function ct(){if(!Ne)throw new Error("Function called outside component initialization");return Ne}function Wt(t){ct().$$.on_mount.push(t)}function Jt(t){ct().$$.on_destroy.push(t)}const Re=[],it=[];let Ae=[];const mt=[],Qt=Promise.resolve();let st=!1;function Zt(){st||(st=!0,Qt.then(ft))}function ot(t){Ae.push(t)}const tt=new Set;let xe=0;function ft(){if(xe!==0)return;const t=Ne;do{try{for(;xe<Re.length;){const e=Re[xe];xe++,de(e),Gt(e.$$)}}catch(e){throw Re.length=0,xe=0,e}for(de(null),Re.length=0,xe=0;it.length;)it.pop()();for(let e=0;e<Ae.length;e+=1){const r=Ae[e];tt.has(r)||(tt.add(r),r())}Ae.length=0}while(Re.length);for(;mt.length;)mt.pop()();st=!1,tt.clear(),de(t)}function Gt(t){if(t.fragment!==null){t.update(),Ie(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ot)}}function Vt(t){const e=[],r=[];Ae.forEach(n=>t.indexOf(n)===-1?e.push(n):r.push(n)),r.forEach(n=>n()),Ae=e}const Ue=new Set;let ve;function Ge(){ve={r:0,c:[],p:ve}}function Ve(){ve.r||Ie(ve.c),ve=ve.p}function W(t,e){t&&t.i&&(Ue.delete(t),t.i(e))}function Y(t,e,r,n){if(t&&t.o){if(Ue.has(t))return;Ue.add(t),ve.c.push(()=>{Ue.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}else n&&n()}function Yt(t,e){const r=e.token={};function n(i,s,l,c){if(e.token!==r)return;e.resolved=c;let u=e.ctx;l!==void 0&&(u=u.slice(),u[l]=c);const d=i&&(e.current=i)(u);let w=!1;e.block&&(e.blocks?e.blocks.forEach((v,C)=>{C!==s&&v&&(Ge(),Y(v,1,1,()=>{e.blocks[C]===v&&(e.blocks[C]=null)}),Ve())}):e.block.d(1),d.c(),W(d,1),d.m(e.mount(),e.anchor),w=!0),e.block=d,e.blocks&&(e.blocks[s]=d),w&&ft()}if(Ut(t)){const i=ct();if(t.then(s=>{de(i),n(e.then,1,e.value,s),de(null)},s=>{if(de(i),n(e.catch,2,e.error,s),de(null),!e.hasCatch)throw s}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}}function Xt(t,e,r){const n=e.slice(),{resolved:i}=t;t.current===t.then&&(n[t.value]=i),t.current===t.catch&&(n[t.error]=i),t.block.p(n,r)}function Qe(t){return t?.length!==void 0?t:Array.from(t)}function It(t,e){const r={},n={},i={$$scope:1};let s=t.length;for(;s--;){const l=t[s],c=e[s];if(c){for(const u in l)u in c||(n[u]=1);for(const u in c)i[u]||(r[u]=c[u],i[u]=1);t[s]=c}else for(const u in l)i[u]=1}for(const l in n)l in r||(r[l]=void 0);return r}function Lt(t){return typeof t=="object"&&t!==null?t:{}}function Te(t){t&&t.c()}function we(t,e,r){const{fragment:n,after_update:i}=t.$$;n&&n.m(e,r),ot(()=>{const s=t.$$.on_mount.map(Rt).filter(At);t.$$.on_destroy?t.$$.on_destroy.push(...s):Ie(s),t.$$.on_mount=[]}),i.forEach(ot)}function ke(t,e){const r=t.$$;r.fragment!==null&&(Vt(r.after_update),Ie(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function en(t,e){t.$$.dirty[0]===-1&&(Re.push(t),Zt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Le(t,e,r,n,i,s,l,c=[-1]){const u=Ne;de(t);const d=t.$$={fragment:null,ctx:[],props:s,update:I,not_equal:i,bound:pt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:pt(),dirty:c,skip_bound:!1,root:e.target||u.$$.root};l&&l(d.root);let w=!1;if(d.ctx=r?r(t,e.props||{},(v,C,...R)=>{const B=R.length?R[0]:C;return d.ctx&&i(d.ctx[v],d.ctx[v]=B)&&(!d.skip_bound&&d.bound[v]&&d.bound[v](B),w&&en(t,v)),C}):[],d.update(),w=!0,Ie(d.before_update),d.fragment=n?n(d.ctx):!1,e.target){if(e.hydrate){const v=qt(e.target);d.fragment&&d.fragment.l(v),v.forEach(G)}else d.fragment&&d.fragment.c();e.intro&&W(t.$$.fragment),we(t,e.target,e.anchor),ft()}de(u)}let De=class{$$=void 0;$$set=void 0;$destroy(){ke(this,1),this.$destroy=I}$on(e,r){if(!At(r))return I;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!jt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};const tn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(tn);function nn(t){if(!rn(t))return t;let e="";return t.split(/\[|\]/).forEach(n=>{e+=n}),e}function rn(t){const e=t.match(/\[/g)?.length,r=t.match(/\[/g)?.length;if(e!==r)throw new Error(`Invalid clue format. L Brackets: ${e}, R Brackets: ${r} for clue "${t}"`);return!!e}const Oe=[];function Dt(t,e=I){let r;const n=new Set;function i(c){if(Ce(t,c)&&(t=c,r)){const u=!Oe.length;for(const d of n)d[1](),Oe.push(d,t);if(u){for(let d=0;d<Oe.length;d+=2)Oe[d][0](Oe[d+1]);Oe.length=0}}}function s(c){i(c(t))}function l(c,u=I){const d=[c,u];return n.add(d),n.size===1&&(r=e(i,s)||I),c(t),()=>{n.delete(d),n.size===0&&r&&(r(),r=null)}}return{set:i,update:s,subscribe:l}}const Be=Dt(),Ye=Dt();class dt{orientation="across";currentHead;selectedCell;static instance;constructor(){this.setOrientation=this.setOrientation.bind(this),this.getOrientation=this.getOrientation.bind(this),this.setCurrentHead=this.setCurrentHead.bind(this),Ye.subscribe(this.setCurrentHead),this.getCurrentHead=this.getCurrentHead.bind(this),this.setSelectedCell=this.setSelectedCell.bind(this),Be.subscribe(this.setSelectedCell),this.getCurrentCell=this.getCurrentCell.bind(this)}static get(){return this.instance||(this.instance=new dt),this.instance}toggleOrientation(){return this.orientation==="across"?this.orientation="down":this.orientation="across",this.orientation}setOrientation(e){this.orientation=e}getOrientation(){return this.orientation}setCurrentHead(e){this.currentHead=e?.head}getCurrentHead(){return this.currentHead}setSelectedCell(e){this.selectedCell=e?.coordinate}getCurrentCell(){return this.selectedCell}}const Pe=dt.get();function sn(t){let e,r,n;return{c(){e=re("div"),r=re("h2"),n=Ze(t[0]),He(e,"class","sticky-header svelte-13xt86h")},m(i,s){V(i,e,s),Se(e,r),Se(r,n)},p(i,[s]){s&1&&Tt(n,i[0])},i:I,o:I,d(i){i&&G(e)}}}function on(t,e,r){let{answerKey:n}=e,{board:i}=e;const s=new Map;n.forEach(c=>{if(s.has(c.answer))throw new Error(`DUPLICATE ANSWER ${c}`);s.set(c.answer,c.clue)});let l="Click a cell you dummy!";return Ye.subscribe(c=>{if(!c||!c.head)return;const u=c.head,d=Pe.getOrientation(),w=i.getAnswer(u,d);if(!w)return;const v=s.get(w);if(!v)throw new Error(`UNKNOWN ANSWER: ${w}. For head ${u}`);r(0,l=nn(v))}),t.$$set=c=>{"answerKey"in c&&r(1,n=c.answerKey),"board"in c&&r(2,i=c.board)},[l,n,i]}class an extends De{constructor(e){super(),Le(this,e,on,sn,Ce,{answerKey:1,board:2})}}class un{input;currentAHead;dHeads=[];nextId=1;answersMap;rows;constructor(e){this.input=e,this.answersMap=new Map,this.rows=this.makeRows(e)}getRows=()=>this.rows;getAnswer=(e,r)=>{const n=this.getAnswersMapKey(e,r);return this.answersMap.get(n)};makeRows=e=>e.map(this.processRow);processRow=(e,r)=>(this.currentAHead=void 0,e.map((i,s)=>{const l=[s,r];return this.getCellType(i)==="boarder"?this.createBoarder(l):this.createCell(l,i)}));createCell=(e,r)=>{const[n,i]=e,s=!this.currentAHead||!this.dHeads[n];if(!this.currentAHead){const l=this.input[n-1]?.[i],c=this.input[n+1]?.[i];this.currentAHead=this.getHead(e,l,c)}if(!this.dHeads[n]){const l=this.input[n]?.[i-1],c=this.input[n]?.[i+1];this.dHeads[n]=this.getHead(e,l,c)}return this.updateAnswersMap(this.currentAHead,r,"across"),this.updateAnswersMap(this.dHeads[n],r,"down"),{type:"cell",answer:r,aHead:this.currentAHead,dHead:this.dHeads[n],coordinate:e,id:s?this.nextId++:void 0}};getAnswersMapKey=(e,r)=>`x${e[0]}y${e[1]}_${r}`;updateAnswersMap=(e,r,n)=>{if(!e)return;const i=this.getAnswersMapKey(e,n);let s=this.answersMap.get(i);s||(s=""),s+=r,this.answersMap.set(i,s)};getHead=(e,r,n)=>{let i="boarder";r&&(i=this.getCellType(r));let s="boarder";if(n&&(s=this.getCellType(n)),!(i==="boarder"&&s==="boarder"))return e};createBoarder=e=>{const[r,n]=e;return this.currentAHead=void 0,this.dHeads[r]=void 0,{type:"boarder",coordinate:e}};getCellType=e=>{if(e===""||e==="xx")return"boarder";if(e.length!==1)throw new Error(`Invalid Cell! ${e}`);return"cell"}}function ln(t){let e;return{c(){e=re("input"),e.disabled=!0,He(e,"class","svelte-1j99cx5")},m(r,n){V(r,e,n)},p:I,i:I,o:I,d(r){r&&G(e)}}}function cn(t,e,r){let{coordinate:n}=e;return t.$$set=i=>{"coordinate"in i&&r(0,n=i.coordinate)},[n]}class fn extends De{constructor(e){super(),Le(this,e,cn,ln,Ce,{coordinate:0})}}function je(t,e){if(!t||!e)return!1;const[r,n]=t,[i,s]=e;return r===i&&n===s}function dn(t){const e=t.toLocaleUpperCase();if(e==="BACKSPACE"||e==="DELETE")return"delete";const r=/^[A-Z]|[1-9]$/;return e.match(r)?.length?"char":"ignore"}function hn(t,e){const[r,n]=t;return e==="across"?[r+1,n]:[r,n+1]}function pn(t,e){const[r,n]=t;return e==="across"?[r-1,n]:[r,n-1]}function _n(t){let e=Pe.getOrientation();const r=t.coordinate,n=Pe.getCurrentCell();je(r,n)&&(e=Pe.toggleOrientation());let i;!t.aHead&&!t.dHead?console.error(`Cell ${t.coordinate} has no associated head!`):!t.aHead&&t.dHead?i=t.dHead:!t.dHead&&t.aHead?i=t.aHead:i=e==="across"?t.aHead:t.dHead,Ye.set({head:i,orientation:e}),Be.set({coordinate:r,clear:!1})}function gn(t){const{coordinate:e,key:r}=t,n=dn(r);if(n==="ignore")return;const i=Pe.getOrientation();if(n==="delete"){const s=pn(e,i);Be.set({coordinate:s,clear:!0})}if(n==="char"){const s=hn(e,i);Be.set({coordinate:s,clear:!1})}}function yt(t){let e,r,n,i;return{c(){e=re("div"),r=Ze(t[0]),He(e,"class","badge svelte-1e8c4e5")},m(s,l){V(s,e,l),Se(e,r),n||(i=ze(e,"click",t[6]),n=!0)},p(s,l){l&1&&Tt(r,s[0])},d(s){s&&G(e),n=!1,i()}}}function mn(t){let e,r,n,i,s,l=t[0]&&yt(t);return{c(){e=re("div"),l&&l.c(),r=Je(),n=re("input"),He(n,"class","svelte-1e8c4e5"),gt(n,"should-highlight",t[3]),He(e,"class","container svelte-1e8c4e5")},m(c,u){V(c,e,u),l&&l.m(e,null),Se(e,r),Se(e,n),_t(n,t[2]),t[13](n),i||(s=[ze(n,"input",t[12]),ze(n,"keyup",t[4]),ze(n,"click",t[5])],i=!0)},p(c,[u]){c[0]?l?l.p(c,u):(l=yt(c),l.c(),l.m(e,r)):l&&(l.d(1),l=null),u&4&&n.value!==c[2]&&_t(n,c[2]),u&8&&gt(n,"should-highlight",c[3])},i:I,o:I,d(c){c&&G(e),l&&l.d(),t[13](null),i=!1,Ie(s)}}}function yn(t,e,r){const n="cell";let{dHead:i=void 0}=e,{aHead:s=void 0}=e,{answer:l}=e,{coordinate:c}=e,{id:u=void 0}=e,d,w=[],v="",C=!1;Wt(()=>{const M=Be.subscribe(le=>{le&&je(le.coordinate,c)&&(d.focus(),le.clear&&r(2,v=""))}),Fe=Ye.subscribe(le=>{if(!le)return;const{head:me,orientation:ie}=le;me&&(ie==="across"&&r(3,C=je(s,me)),ie==="down"&&r(3,C=je(i,me)))});w.push(M),w.push(Fe)}),Jt(()=>{w.forEach(M=>M())});const R=M=>{r(2,v=v.toUpperCase()),v.length>1&&r(2,v=v.slice(-1)),gn({coordinate:c,key:M.key})},B=()=>{_n({aHead:s,dHead:i,coordinate:c})},Ee=()=>{d.focus(),B()};function ue(){v=this.value,r(2,v)}function ge(M){it[M?"unshift":"push"](()=>{d=M,r(1,d)})}return t.$$set=M=>{"dHead"in M&&r(8,i=M.dHead),"aHead"in M&&r(9,s=M.aHead),"answer"in M&&r(10,l=M.answer),"coordinate"in M&&r(11,c=M.coordinate),"id"in M&&r(0,u=M.id)},[u,d,v,C,R,B,Ee,n,i,s,l,c,ue,ge]}class bn extends De{constructor(e){super(),Le(this,e,yn,mn,Ce,{type:7,dHead:8,aHead:9,answer:10,coordinate:11,id:0})}get type(){return this.$$.ctx[7]}}function bt(t,e,r){const n=t.slice();return n[1]=e[r],n}function vn(t){let e,r;const n=[t[1]];let i={};for(let s=0;s<n.length;s+=1)i=Ot(i,n[s]);return e=new fn({props:i}),{c(){Te(e.$$.fragment)},m(s,l){we(e,s,l),r=!0},p(s,l){const c=l&1?It(n,[Lt(s[1])]):{};e.$set(c)},i(s){r||(W(e.$$.fragment,s),r=!0)},o(s){Y(e.$$.fragment,s),r=!1},d(s){ke(e,s)}}}function wn(t){let e,r;const n=[t[1]];let i={};for(let s=0;s<n.length;s+=1)i=Ot(i,n[s]);return e=new bn({props:i}),{c(){Te(e.$$.fragment)},m(s,l){we(e,s,l),r=!0},p(s,l){const c=l&1?It(n,[Lt(s[1])]):{};e.$set(c)},i(s){r||(W(e.$$.fragment,s),r=!0)},o(s){Y(e.$$.fragment,s),r=!1},d(s){ke(e,s)}}}function vt(t){let e,r,n,i;const s=[wn,vn],l=[];function c(u,d){return u[1].type==="cell"?0:1}return e=c(t),r=l[e]=s[e](t),{c(){r.c(),n=Ht()},m(u,d){l[e].m(u,d),V(u,n,d),i=!0},p(u,d){let w=e;e=c(u),e===w?l[e].p(u,d):(Ge(),Y(l[w],1,1,()=>{l[w]=null}),Ve(),r=l[e],r?r.p(u,d):(r=l[e]=s[e](u),r.c()),W(r,1),r.m(n.parentNode,n))},i(u){i||(W(r),i=!0)},o(u){Y(r),i=!1},d(u){u&&G(n),l[e].d(u)}}}function kn(t){let e,r,n=Qe(t[0]),i=[];for(let l=0;l<n.length;l+=1)i[l]=vt(bt(t,n,l));const s=l=>Y(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=Ht()},m(l,c){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(l,c);V(l,e,c),r=!0},p(l,[c]){if(c&1){n=Qe(l[0]);let u;for(u=0;u<n.length;u+=1){const d=bt(l,n,u);i[u]?(i[u].p(d,c),W(i[u],1)):(i[u]=vt(d),i[u].c(),W(i[u],1),i[u].m(e.parentNode,e))}for(Ge(),u=n.length;u<i.length;u+=1)s(u);Ve()}},i(l){if(!r){for(let c=0;c<n.length;c+=1)W(i[c]);r=!0}},o(l){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)Y(i[c]);r=!1},d(l){l&&G(e),St(i,l)}}}function Cn(t,e,r){let{tiles:n}=e;return t.$$set=i=>{"tiles"in i&&r(0,n=i.tiles)},[n]}class En extends De{constructor(e){super(),Le(this,e,Cn,kn,Ce,{tiles:0})}}function wt(t,e,r){const n=t.slice();return n[2]=e[r],n}function kt(t){let e,r,n,i;return e=new En({props:{tiles:t[2]}}),{c(){Te(e.$$.fragment),r=Je(),n=re("br")},m(s,l){we(e,s,l),V(s,r,l),V(s,n,l),i=!0},p:I,i(s){i||(W(e.$$.fragment,s),i=!0)},o(s){Y(e.$$.fragment,s),i=!1},d(s){s&&(G(r),G(n)),ke(e,s)}}}function $n(t){let e,r,n=Qe(t[0]),i=[];for(let l=0;l<n.length;l+=1)i[l]=kt(wt(t,n,l));const s=l=>Y(i[l],1,1,()=>{i[l]=null});return{c(){e=re("div");for(let l=0;l<i.length;l+=1)i[l].c();He(e,"class","board svelte-c8o6fy")},m(l,c){V(l,e,c);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null);r=!0},p(l,[c]){if(c&1){n=Qe(l[0]);let u;for(u=0;u<n.length;u+=1){const d=wt(l,n,u);i[u]?(i[u].p(d,c),W(i[u],1)):(i[u]=kt(d),i[u].c(),W(i[u],1),i[u].m(e,null))}for(Ge(),u=n.length;u<i.length;u+=1)s(u);Ve()}},i(l){if(!r){for(let c=0;c<n.length;c+=1)W(i[c]);r=!0}},o(l){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)Y(i[c]);r=!1},d(l){l&&G(e),St(i,l)}}}function xn(t,e,r){let{board:n}=e;const i=n.getRows();return t.$$set=s=>{"board"in s&&r(1,n=s.board)},[i,n]}class On extends De{constructor(e){super(),Le(this,e,xn,$n,Ce,{board:1})}}var Rn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mt={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(r,n){t.exports=n()})(Rn,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,l={},c=0,u={parse:function(a,o){var f=(o=o||{}).dynamicTyping||!1;if(x(f)&&(o.dynamicTypingFunction=f,f={}),o.dynamicTyping=f,o.transform=!!x(o.transform)&&o.transform,o.worker&&u.WORKERS_SUPPORTED){var h=function(){if(!u.WORKERS_SUPPORTED)return!1;var b=(j=n.URL||n.webkitURL||null,L=r.toString(),u.BLOB_URL||(u.BLOB_URL=j.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",L,")();"],{type:"text/javascript"})))),k=new n.Worker(b),j,L;return k.onmessage=M,k.id=c++,l[k.id]=k}();return h.userStep=o.step,h.userChunk=o.chunk,h.userComplete=o.complete,h.userError=o.error,o.step=x(o.step),o.chunk=x(o.chunk),o.complete=x(o.complete),o.error=x(o.error),delete o.worker,void h.postMessage({input:a,config:o,workerId:h.id})}var _=null;return u.NODE_STREAM_INPUT,typeof a=="string"?(a=function(b){return b.charCodeAt(0)===65279?b.slice(1):b}(a),_=o.download?new v(o):new R(o)):a.readable===!0&&x(a.read)&&x(a.on)?_=new B(o):(n.File&&a instanceof File||a instanceof Object)&&(_=new C(o)),_.stream(a)},unparse:function(a,o){var f=!1,h=!0,_=",",b=`\r
`,k='"',j=k+k,L=!1,g=null,P=!1;(function(){if(typeof o=="object"){if(typeof o.delimiter!="string"||u.BAD_DELIMITERS.filter(function(p){return o.delimiter.indexOf(p)!==-1}).length||(_=o.delimiter),(typeof o.quotes=="boolean"||typeof o.quotes=="function"||Array.isArray(o.quotes))&&(f=o.quotes),typeof o.skipEmptyLines!="boolean"&&typeof o.skipEmptyLines!="string"||(L=o.skipEmptyLines),typeof o.newline=="string"&&(b=o.newline),typeof o.quoteChar=="string"&&(k=o.quoteChar),typeof o.header=="boolean"&&(h=o.header),Array.isArray(o.columns)){if(o.columns.length===0)throw new Error("Option columns is empty");g=o.columns}o.escapeChar!==void 0&&(j=o.escapeChar+k),(typeof o.escapeFormulae=="boolean"||o.escapeFormulae instanceof RegExp)&&(P=o.escapeFormulae instanceof RegExp?o.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var y=new RegExp(ue(k),"g");if(typeof a=="string"&&(a=JSON.parse(a)),Array.isArray(a)){if(!a.length||Array.isArray(a[0]))return se(null,a,L);if(typeof a[0]=="object")return se(g||Object.keys(a[0]),a,L)}else if(typeof a=="object")return typeof a.data=="string"&&(a.data=JSON.parse(a.data)),Array.isArray(a.data)&&(a.fields||(a.fields=a.meta&&a.meta.fields||g),a.fields||(a.fields=Array.isArray(a.data[0])?a.fields:typeof a.data[0]=="object"?Object.keys(a.data[0]):[]),Array.isArray(a.data[0])||typeof a.data[0]=="object"||(a.data=[a.data])),se(a.fields||[],a.data||[],L);throw new Error("Unable to serialize unrecognized input");function se(p,S,Q){var D="";typeof p=="string"&&(p=JSON.parse(p)),typeof S=="string"&&(S=JSON.parse(S));var q=Array.isArray(p)&&0<p.length,z=!Array.isArray(S[0]);if(q&&h){for(var U=0;U<p.length;U++)0<U&&(D+=_),D+=J(p[U],U);0<S.length&&(D+=b)}for(var m=0;m<S.length;m++){var E=q?p.length:S[m].length,H=!1,K=q?Object.keys(S[m]).length===0:S[m].length===0;if(Q&&!q&&(H=Q==="greedy"?S[m].join("").trim()==="":S[m].length===1&&S[m][0].length===0),Q==="greedy"&&q){for(var O=[],Z=0;Z<E;Z++){var N=z?p[Z]:Z;O.push(S[m][N])}H=O.join("").trim()===""}if(!H){for(var A=0;A<E;A++){0<A&&!K&&(D+=_);var oe=q&&z?p[A]:A;D+=J(S[m][oe],A)}m<S.length-1&&(!Q||0<E&&!K)&&(D+=b)}}return D}function J(p,S){if(p==null)return"";if(p.constructor===Date)return JSON.stringify(p).slice(1,25);var Q=!1;P&&typeof p=="string"&&P.test(p)&&(p="'"+p,Q=!0);var D=p.toString().replace(y,j);return(Q=Q||f===!0||typeof f=="function"&&f(p,S)||Array.isArray(f)&&f[S]||function(q,z){for(var U=0;U<z.length;U++)if(-1<q.indexOf(z[U]))return!0;return!1}(D,u.BAD_DELIMITERS)||-1<D.indexOf(_)||D.charAt(0)===" "||D.charAt(D.length-1)===" ")?k+D+k:D}}};if(u.RECORD_SEP=String.fromCharCode(30),u.UNIT_SEP=String.fromCharCode(31),u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!i&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=ge,u.ParserHandle=Ee,u.NetworkStreamer=v,u.FileStreamer=C,u.StringStreamer=R,u.ReadableStreamStreamer=B,n.jQuery){var d=n.jQuery;d.fn.parse=function(a){var o=a.config||{},f=[];return this.each(function(b){if(!(d(this).prop("tagName").toUpperCase()==="INPUT"&&d(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var k=0;k<this.files.length;k++)f.push({file:this.files[k],inputElem:this,instanceConfig:d.extend({},o)})}),h(),this;function h(){if(f.length!==0){var b,k,j,L,g=f[0];if(x(a.before)){var P=a.before(g.file,g.inputElem);if(typeof P=="object"){if(P.action==="abort")return b="AbortError",k=g.file,j=g.inputElem,L=P.reason,void(x(a.error)&&a.error({name:b},k,j,L));if(P.action==="skip")return void _();typeof P.config=="object"&&(g.instanceConfig=d.extend(g.instanceConfig,P.config))}else if(P==="skip")return void _()}var y=g.instanceConfig.complete;g.instanceConfig.complete=function(se){x(y)&&y(se,g.file,g.inputElem),_()},u.parse(g.file,g.instanceConfig)}else x(a.complete)&&a.complete()}function _(){f.splice(0,1),h()}}}function w(a){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(o){var f=me(o);f.chunkSize=parseInt(f.chunkSize),o.step||o.chunk||(f.chunkSize=null),this._handle=new Ee(f),(this._handle.streamer=this)._config=f}.call(this,a),this.parseChunk=function(o,f){if(this.isFirstChunk&&x(this._config.beforeFirstChunk)){var h=this._config.beforeFirstChunk(o);h!==void 0&&(o=h)}this.isFirstChunk=!1,this._halted=!1;var _=this._partialLine+o;this._partialLine="";var b=this._handle.parse(_,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var k=b.meta.cursor;this._finished||(this._partialLine=_.substring(k-this._baseIndex),this._baseIndex=k),b&&b.data&&(this._rowCount+=b.data.length);var j=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)n.postMessage({results:b,workerId:u.WORKER_ID,finished:j});else if(x(this._config.chunk)&&!f){if(this._config.chunk(b,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);b=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(b.data),this._completeResults.errors=this._completeResults.errors.concat(b.errors),this._completeResults.meta=b.meta),this._completed||!j||!x(this._config.complete)||b&&b.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),j||b&&b.meta.paused||this._nextChunk(),b}this._halted=!0},this._sendError=function(o){x(this._config.error)?this._config.error(o):s&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:o,finished:!1})}}function v(a){var o;(a=a||{}).chunkSize||(a.chunkSize=u.RemoteChunkSize),w.call(this,a),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(f){this._input=f,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(o=new XMLHttpRequest,this._config.withCredentials&&(o.withCredentials=this._config.withCredentials),i||(o.onload=ie(this._chunkLoaded,this),o.onerror=ie(this._chunkError,this)),o.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var f=this._config.downloadRequestHeaders;for(var h in f)o.setRequestHeader(h,f[h])}if(this._config.chunkSize){var _=this._start+this._config.chunkSize-1;o.setRequestHeader("Range","bytes="+this._start+"-"+_)}try{o.send(this._config.downloadRequestBody)}catch(b){this._chunkError(b.message)}i&&o.status===0&&this._chunkError()}},this._chunkLoaded=function(){o.readyState===4&&(o.status<200||400<=o.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:o.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(f){var h=f.getResponseHeader("Content-Range");return h===null?-1:parseInt(h.substring(h.lastIndexOf("/")+1))}(o),this.parseChunk(o.responseText)))},this._chunkError=function(f){var h=o.statusText||f;this._sendError(new Error(h))}}function C(a){var o,f;(a=a||{}).chunkSize||(a.chunkSize=u.LocalChunkSize),w.call(this,a);var h=typeof FileReader<"u";this.stream=function(_){this._input=_,f=_.slice||_.webkitSlice||_.mozSlice,h?((o=new FileReader).onload=ie(this._chunkLoaded,this),o.onerror=ie(this._chunkError,this)):o=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var _=this._input;if(this._config.chunkSize){var b=Math.min(this._start+this._config.chunkSize,this._input.size);_=f.call(_,this._start,b)}var k=o.readAsText(_,this._config.encoding);h||this._chunkLoaded({target:{result:k}})},this._chunkLoaded=function(_){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(_.target.result)},this._chunkError=function(){this._sendError(o.error)}}function R(a){var o;w.call(this,a=a||{}),this.stream=function(f){return o=f,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var f,h=this._config.chunkSize;return h?(f=o.substring(0,h),o=o.substring(h)):(f=o,o=""),this._finished=!o,this.parseChunk(f)}}}function B(a){w.call(this,a=a||{});var o=[],f=!0,h=!1;this.pause=function(){w.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){w.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(_){this._input=_,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){h&&o.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),o.length?this.parseChunk(o.shift()):f=!0},this._streamData=ie(function(_){try{o.push(typeof _=="string"?_:_.toString(this._config.encoding)),f&&(f=!1,this._checkIsFinished(),this.parseChunk(o.shift()))}catch(b){this._streamError(b)}},this),this._streamError=ie(function(_){this._streamCleanUp(),this._sendError(_)},this),this._streamEnd=ie(function(){this._streamCleanUp(),h=!0,this._streamData("")},this),this._streamCleanUp=ie(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Ee(a){var o,f,h,_=Math.pow(2,53),b=-_,k=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,j=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,L=this,g=0,P=0,y=!1,se=!1,J=[],p={data:[],errors:[],meta:{}};if(x(a.step)){var S=a.step;a.step=function(m){if(p=m,q())D();else{if(D(),p.data.length===0)return;g+=m.data.length,a.preview&&g>a.preview?f.abort():(p.data=p.data[0],S(p,L))}}}function Q(m){return a.skipEmptyLines==="greedy"?m.join("").trim()==="":m.length===1&&m[0].length===0}function D(){return p&&h&&(U("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),h=!1),a.skipEmptyLines&&(p.data=p.data.filter(function(m){return!Q(m)})),q()&&function(){if(!p)return;function m(H,K){x(a.transformHeader)&&(H=a.transformHeader(H,K)),J.push(H)}if(Array.isArray(p.data[0])){for(var E=0;q()&&E<p.data.length;E++)p.data[E].forEach(m);p.data.splice(0,1)}else p.data.forEach(m)}(),function(){if(!p||!a.header&&!a.dynamicTyping&&!a.transform)return p;function m(H,K){var O,Z=a.header?{}:[];for(O=0;O<H.length;O++){var N=O,A=H[O];a.header&&(N=O>=J.length?"__parsed_extra":J[O]),a.transform&&(A=a.transform(A,N)),A=z(N,A),N==="__parsed_extra"?(Z[N]=Z[N]||[],Z[N].push(A)):Z[N]=A}return a.header&&(O>J.length?U("FieldMismatch","TooManyFields","Too many fields: expected "+J.length+" fields but parsed "+O,P+K):O<J.length&&U("FieldMismatch","TooFewFields","Too few fields: expected "+J.length+" fields but parsed "+O,P+K)),Z}var E=1;return!p.data.length||Array.isArray(p.data[0])?(p.data=p.data.map(m),E=p.data.length):p.data=m(p.data,0),a.header&&p.meta&&(p.meta.fields=J),P+=E,p}()}function q(){return a.header&&J.length===0}function z(m,E){return H=m,a.dynamicTypingFunction&&a.dynamicTyping[H]===void 0&&(a.dynamicTyping[H]=a.dynamicTypingFunction(H)),(a.dynamicTyping[H]||a.dynamicTyping)===!0?E==="true"||E==="TRUE"||E!=="false"&&E!=="FALSE"&&(function(K){if(k.test(K)){var O=parseFloat(K);if(b<O&&O<_)return!0}return!1}(E)?parseFloat(E):j.test(E)?new Date(E):E===""?null:E):E;var H}function U(m,E,H,K){var O={type:m,code:E,message:H};K!==void 0&&(O.row=K),p.errors.push(O)}this.parse=function(m,E,H){var K=a.quoteChar||'"';if(a.newline||(a.newline=function(N,A){N=N.substring(0,1048576);var oe=new RegExp(ue(A)+"([^]*?)"+ue(A),"gm"),X=(N=N.replace(oe,"")).split("\r"),ae=N.split(`
`),ce=1<ae.length&&ae[0].length<X[0].length;if(X.length===1||ce)return`
`;for(var ee=0,T=0;T<X.length;T++)X[T][0]===`
`&&ee++;return ee>=X.length/2?`\r
`:"\r"}(m,K)),h=!1,a.delimiter)x(a.delimiter)&&(a.delimiter=a.delimiter(m),p.meta.delimiter=a.delimiter);else{var O=function(N,A,oe,X,ae){var ce,ee,T,F;ae=ae||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var ye=0;ye<ae.length;ye++){var $=ae[ye],$e=0,fe=0,be=0;T=void 0;for(var he=new ge({comments:X,delimiter:$,newline:A,preview:10}).parse(N),pe=0;pe<he.data.length;pe++)if(oe&&Q(he.data[pe]))be++;else{var _e=he.data[pe].length;fe+=_e,T!==void 0?0<_e&&($e+=Math.abs(_e-T),T=_e):T=_e}0<he.data.length&&(fe/=he.data.length-be),(ee===void 0||$e<=ee)&&(F===void 0||F<fe)&&1.99<fe&&(ee=$e,ce=$,F=fe)}return{successful:!!(a.delimiter=ce),bestDelimiter:ce}}(m,a.newline,a.skipEmptyLines,a.comments,a.delimitersToGuess);O.successful?a.delimiter=O.bestDelimiter:(h=!0,a.delimiter=u.DefaultDelimiter),p.meta.delimiter=a.delimiter}var Z=me(a);return a.preview&&a.header&&Z.preview++,o=m,f=new ge(Z),p=f.parse(o,E,H),D(),y?{meta:{paused:!0}}:p||{meta:{paused:!1}}},this.paused=function(){return y},this.pause=function(){y=!0,f.abort(),o=x(a.chunk)?"":o.substring(f.getCharIndex())},this.resume=function(){L.streamer._halted?(y=!1,L.streamer.parseChunk(o,!0)):setTimeout(L.resume,3)},this.aborted=function(){return se},this.abort=function(){se=!0,f.abort(),p.meta.aborted=!0,x(a.complete)&&a.complete(p),o=""}}function ue(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ge(a){var o,f=(a=a||{}).delimiter,h=a.newline,_=a.comments,b=a.step,k=a.preview,j=a.fastMode,L=o=a.quoteChar===void 0||a.quoteChar===null?'"':a.quoteChar;if(a.escapeChar!==void 0&&(L=a.escapeChar),(typeof f!="string"||-1<u.BAD_DELIMITERS.indexOf(f))&&(f=","),_===f)throw new Error("Comment character same as delimiter");_===!0?_="#":(typeof _!="string"||-1<u.BAD_DELIMITERS.indexOf(_))&&(_=!1),h!==`
`&&h!=="\r"&&h!==`\r
`&&(h=`
`);var g=0,P=!1;this.parse=function(y,se,J){if(typeof y!="string")throw new Error("Input must be a string");var p=y.length,S=f.length,Q=h.length,D=_.length,q=x(b),z=[],U=[],m=[],E=g=0;if(!y)return te();if(a.header&&!se){var H=y.split(h)[0].split(f),K=[],O={},Z=!1;for(var N in H){var A=H[N];x(a.transformHeader)&&(A=a.transformHeader(A,N));var oe=A,X=O[A]||0;for(0<X&&(Z=!0,oe=A+"_"+X),O[A]=X+1;K.includes(oe);)oe=oe+"_"+X;K.push(oe)}if(Z){var ae=y.split(h);ae[0]=K.join(f),y=ae.join(h)}}if(j||j!==!1&&y.indexOf(o)===-1){for(var ce=y.split(h),ee=0;ee<ce.length;ee++){if(m=ce[ee],g+=m.length,ee!==ce.length-1)g+=h.length;else if(J)return te();if(!_||m.substring(0,D)!==_){if(q){if(z=[],be(m.split(f)),Ke(),P)return te()}else be(m.split(f));if(k&&k<=ee)return z=z.slice(0,k),te(!0)}}return te()}for(var T=y.indexOf(f,g),F=y.indexOf(h,g),ye=new RegExp(ue(L)+ue(o),"g"),$=y.indexOf(o,g);;)if(y[g]!==o)if(_&&m.length===0&&y.substring(g,g+D)===_){if(F===-1)return te();g=F+Q,F=y.indexOf(h,g),T=y.indexOf(f,g)}else if(T!==-1&&(T<F||F===-1))m.push(y.substring(g,T)),g=T+S,T=y.indexOf(f,g);else{if(F===-1)break;if(m.push(y.substring(g,F)),_e(F+Q),q&&(Ke(),P))return te();if(k&&z.length>=k)return te(!0)}else for($=g,g++;;){if(($=y.indexOf(o,$+1))===-1)return J||U.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:z.length,index:g}),pe();if($===p-1)return pe(y.substring(g,$).replace(ye,o));if(o!==L||y[$+1]!==L){if(o===L||$===0||y[$-1]!==L){T!==-1&&T<$+1&&(T=y.indexOf(f,$+1)),F!==-1&&F<$+1&&(F=y.indexOf(h,$+1));var $e=he(F===-1?T:Math.min(T,F));if(y.substr($+1+$e,S)===f){m.push(y.substring(g,$).replace(ye,o)),y[g=$+1+$e+S]!==o&&($=y.indexOf(o,g)),T=y.indexOf(f,g),F=y.indexOf(h,g);break}var fe=he(F);if(y.substring($+1+fe,$+1+fe+Q)===h){if(m.push(y.substring(g,$).replace(ye,o)),_e($+1+fe+Q),T=y.indexOf(f,g),$=y.indexOf(o,g),q&&(Ke(),P))return te();if(k&&z.length>=k)return te(!0);break}U.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:z.length,index:g}),$++}}else $++}return pe();function be(ne){z.push(ne),E=g}function he(ne){var ht=0;if(ne!==-1){var et=y.substring($+1,ne);et&&et.trim()===""&&(ht=et.length)}return ht}function pe(ne){return J||(ne===void 0&&(ne=y.substring(g)),m.push(ne),g=p,be(m),q&&Ke()),te()}function _e(ne){g=ne,be(m),m=[],F=y.indexOf(h,g)}function te(ne){return{data:z,errors:U,meta:{delimiter:f,linebreak:h,aborted:P,truncated:!!ne,cursor:E+(se||0)}}}function Ke(){b(te()),z=[],U=[]}},this.abort=function(){P=!0},this.getCharIndex=function(){return g}}function M(a){var o=a.data,f=l[o.workerId],h=!1;if(o.error)f.userError(o.error,o.file);else if(o.results&&o.results.data){var _={abort:function(){h=!0,Fe(o.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:le,resume:le};if(x(f.userStep)){for(var b=0;b<o.results.data.length&&(f.userStep({data:o.results.data[b],errors:o.results.errors,meta:o.results.meta},_),!h);b++);delete o.results}else x(f.userChunk)&&(f.userChunk(o.results,_,o.file),delete o.results)}o.finished&&!h&&Fe(o.workerId,o.results)}function Fe(a,o){var f=l[a];x(f.userComplete)&&f.userComplete(o),f.terminate(),delete l[a]}function le(){throw new Error("Not implemented.")}function me(a){if(typeof a!="object"||a===null)return a;var o=Array.isArray(a)?[]:{};for(var f in a)o[f]=me(a[f]);return o}function ie(a,o){return function(){a.apply(o,arguments)}}function x(a){return typeof a=="function"}return s&&(n.onmessage=function(a){var o=a.data;if(u.WORKER_ID===void 0&&o&&(u.WORKER_ID=o.workerId),typeof o.input=="string")n.postMessage({workerId:u.WORKER_ID,results:u.parse(o.input,o.config),finished:!0});else if(n.File&&o.input instanceof File||o.input instanceof Object){var f=u.parse(o.input,o.config);f&&n.postMessage({workerId:u.WORKER_ID,results:f,finished:!0})}}),(v.prototype=Object.create(w.prototype)).constructor=v,(C.prototype=Object.create(w.prototype)).constructor=C,(R.prototype=Object.create(R.prototype)).constructor=R,(B.prototype=Object.create(w.prototype)).constructor=B,u})})(Mt);var An=Mt.exports;class Ct{csv=[];path;isRead=!1;areHeadersPresent=!1;validator;constructor(e,r,n){this.path=e,this.areHeadersPresent=!!n,r&&(this.validator=i=>{const s=r(i);if(s!==!0)throw new Error(`Invalid cell in ${this.path}. ${s}: ${JSON.stringify(i)}`)})}ingest=async()=>{if(this.isRead)return;const r=await(await fetch(this.path)).text();An.parse(r,{header:this.areHeadersPresent,complete:this.onParse,delimitersToGuess:["|","	"],transform:this.trimCell,transformHeader:this.trimCell})};trimCell=e=>e.trim();onParse=e=>{console.log(`Finished parsing ${this.path}`);const r=e.errors.filter(n=>n.code!=="UndetectableDelimiter");if(r.length)throw console.error(r),new Error("Parse Error");this.validator&&e.data.map(this.validator),this.csv=e.data};getCsv=()=>this.csv}function Pt(){}function Sn(t,e){for(const r in e)t[r]=e[r];return t}function Nt(t){return t()}function Et(){return Object.create(null)}function Xe(t){t.forEach(Nt)}function Hn(t){return typeof t=="function"}function Tn(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function In(t){return Object.keys(t).length===0}function Ln(t,e,r,n){if(t){const i=Bt(t,e,r,n);return t[0](i)}}function Bt(t,e,r,n){return t[1]&&n?Sn(r.ctx.slice(),t[1](n(e))):r.ctx}function Dn(t,e,r,n){if(t[2]&&n){const i=t[2](n(r));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],l=Math.max(e.dirty.length,i.length);for(let c=0;c<l;c+=1)s[c]=e.dirty[c]|i[c];return s}return e.dirty|i}return e.dirty}function Mn(t,e,r,n,i,s,l){const c=Dn(e,n,i,s);if(c){const u=Bt(e,r,n,l);t.p(u,c)}}function Pn(t){t.parentNode.removeChild(t)}function Nn(t){return Array.from(t.childNodes)}let Ft;function at(t){Ft=t}const Me=[],$t=[],qe=[],xt=[],Bn=Promise.resolve();let ut=!1;function Fn(){ut||(ut=!0,Bn.then(Kt))}function lt(t){qe.push(t)}let nt=!1;const rt=new Set;function Kt(){if(!nt){nt=!0;do{for(let t=0;t<Me.length;t+=1){const e=Me[t];at(e),Kn(e.$$)}for(Me.length=0;$t.length;)$t.pop()();for(let t=0;t<qe.length;t+=1){const e=qe[t];rt.has(e)||(rt.add(e),e())}qe.length=0}while(Me.length);for(;xt.length;)xt.pop()();ut=!1,nt=!1,rt.clear()}}function Kn(t){if(t.fragment!==null){t.update(),Xe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(lt)}}const We=new Set;let zn;function zt(t,e){t&&t.i&&(We.delete(t),t.i(e))}function Un(t,e,r,n){if(t&&t.o){if(We.has(t))return;We.add(t),zn.c.push(()=>{We.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}}function jn(t,e,r){const{fragment:n,on_mount:i,on_destroy:s,after_update:l}=t.$$;n&&n.m(e,r),lt(()=>{const c=i.map(Nt).filter(Hn);s?s.push(...c):Xe(c),t.$$.on_mount=[]}),l.forEach(lt)}function qn(t,e){const r=t.$$;r.fragment!==null&&(Xe(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function Wn(t,e){t.$$.dirty[0]===-1&&(Me.push(t),Fn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Jn(t,e,r,n,i,s,l=[-1]){const c=Ft;at(t);const u=e.props||{},d=t.$$={fragment:null,ctx:null,props:s,update:Pt,not_equal:i,bound:Et(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:Et(),dirty:l,skip_bound:!1};let w=!1;if(d.ctx=r?r(t,u,(v,C,...R)=>{const B=R.length?R[0]:C;return d.ctx&&i(d.ctx[v],d.ctx[v]=B)&&(!d.skip_bound&&d.bound[v]&&d.bound[v](B),w&&Wn(t,v)),C}):[],d.update(),w=!0,Xe(d.before_update),d.fragment=n?n(d.ctx):!1,e.target){if(e.hydrate){const v=Nn(e.target);d.fragment&&d.fragment.l(v),v.forEach(Pn)}else d.fragment&&d.fragment.c();e.intro&&zt(t.$$.fragment),jn(t,e.target,e.anchor),Kt()}at(c)}class Qn{$destroy(){qn(this,1),this.$destroy=Pt}$on(e,r){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!In(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Zn(t){let e;const r=t[1].default,n=Ln(r,t,t[0],null);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,[s]){n&&n.p&&s&1&&Mn(n,r,i,i[0],s,null,null)},i(i){e||(zt(n,i),e=!0)},o(i){Un(n,i),e=!1},d(i){n&&n.d(i)}}}function Gn(t,e,r){let{$$slots:n={},$$scope:i}=e;return t.$$set=s=>{"$$scope"in s&&r(0,i=s.$$scope)},[i,n]}class Vn extends Qn{constructor(e){super(),Jn(this,e,Gn,Zn,Tn,{})}}class Yn extends Vn{constructor(e){e.props.$$slots.default=e.props.$$slots.default.map(r=>(...n)=>{try{return r(...n)}catch(i){return e.props.handleError&&e.props.handleError(i,e.props.name),console.log(`ERROR${e.props.name?` (${e.props.name})`:""}: `,i),null}}),super(e)}}function Xn(t){return{c:I,m:I,p:I,i:I,o:I,d:I}}function er(t){let e,r;return e=new Yn({props:{name:"Root error boundary",alertError:t[3],$$slots:{default:[tr]},$$scope:{ctx:t}}}),{c(){Te(e.$$.fragment)},m(n,i){we(e,n,i),r=!0},p(n,i){const s={};i&1027&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){r||(W(e.$$.fragment,n),r=!0)},o(n){Y(e.$$.fragment,n),r=!1},d(n){ke(e,n)}}}function tr(t){let e,r,n,i,s,l;return e=new an({props:{answerKey:t[0].getCsv(),board:t[1]}}),s=new On({props:{board:t[1]}}),{c(){Te(e.$$.fragment),r=Je(),n=re("br"),i=Je(),Te(s.$$.fragment)},m(c,u){we(e,c,u),V(c,r,u),V(c,n,u),V(c,i,u),we(s,c,u),l=!0},p(c,u){const d={};u&1&&(d.answerKey=c[0].getCsv()),u&2&&(d.board=c[1]),e.$set(d);const w={};u&2&&(w.board=c[1]),s.$set(w)},i(c){l||(W(e.$$.fragment,c),W(s.$$.fragment,c),l=!0)},o(c){Y(e.$$.fragment,c),Y(s.$$.fragment,c),l=!1},d(c){c&&(G(r),G(n),G(i)),ke(e,c),ke(s,c)}}}function nr(t){let e;return{c(){e=re("p"),e.textContent="Loading..."},m(r,n){V(r,e,n)},p:I,i:I,o:I,d(r){r&&G(e)}}}function rr(t){let e,r,n,i={ctx:t,current:null,token:null,hasCatch:!1,pending:nr,then:er,catch:Xn,value:9,blocks:[,,,]};return Yt(t[2],i),{c(){e=re("main"),r=re("div"),i.block.c()},m(s,l){V(s,e,l),Se(e,r),i.block.m(r,i.anchor=null),i.mount=()=>r,i.anchor=null,n=!0},p(s,[l]){t=s,Xt(i,t,l)},i(s){n||(W(i.block),n=!0)},o(s){for(let l=0;l<3;l+=1){const c=i.blocks[l];Y(c)}n=!1},d(s){s&&G(e),i.block.d(),i.token=null,i=null}}}const ir="/board.csv",sr="/answerKey.csv";function or(t,e,r){let n,i;const s=C=>{if(!Array.isArray(C))return"Data is not an array!";let R;return C.forEach(B=>{if(R)return;if(typeof B!="string"){R=`${JSON.stringify(B)} is not a string!`;return}const Ee=B==="xx",ue=B==="",ge=B.length===1;Ee||ue||ge||(R=`${JSON.stringify(B)} is not a cell or border!`)}),R||!0},l=C=>{const R=JSON.stringify(C);return typeof C!="object"?R+" is not an object!":C?"clue"in C?"answer"in C?C.answer.match(/[a-zA-Z]+/)?!0:R+" does not format answer correctly!":R+" does not have an answer!":R+" does not have a clue!":R+" is falsy!"};n=new Ct(ir,s,!1);const c=n.ingest();i=new Ct(sr,l,!0);const u=i.ingest(),d=Promise.all([c,u]);let w;return c.then(()=>{const C=n.getCsv();r(1,w=new un(C))}),[i,w,d,(C,R)=>{window.alert()}]}class ar extends De{constructor(e){super(),Le(this,e,or,rr,Ce,{})}}new ar({target:document.getElementById("app")});
